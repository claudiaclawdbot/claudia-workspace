"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/agents";
exports.ids = ["pages/api/agents"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fagents&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fagents.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fagents&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fagents.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_agents_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/agents.ts */ \"(api)/./pages/api/agents.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_agents_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_agents_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/agents\",\n        pathname: \"/api/agents\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_agents_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmFnZW50cyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGYWdlbnRzLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ2tEO0FBQ2xEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxpREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsaURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWdlbnQtZGFzaGJvYXJkLz8wNzNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9hcGkvYWdlbnRzLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYWdlbnRzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYWdlbnRzXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fagents&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fagents.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/data.ts":
/*!*********************!*\
  !*** ./lib/data.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getActiveStatus: () => (/* binding */ getActiveStatus),\n/* harmony export */   getAgentLogs: () => (/* binding */ getAgentLogs),\n/* harmony export */   getAllAgentData: () => (/* binding */ getAllAgentData),\n/* harmony export */   getSessions: () => (/* binding */ getSessions),\n/* harmony export */   spawnAgent: () => (/* binding */ spawnAgent)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! child_process */ \"child_process\");\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(child_process__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! util */ \"util\");\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nconst execAsync = (0,util__WEBPACK_IMPORTED_MODULE_3__.promisify)(child_process__WEBPACK_IMPORTED_MODULE_2__.exec);\n// Parse ACTIVE_STATUS.md\nasync function getActiveStatus() {\n    const statusPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"..\", \"state\", \"ACTIVE_STATUS.md\");\n    let content = \"\";\n    try {\n        content = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(statusPath, \"utf-8\");\n    } catch (e) {\n        // Return default data if file doesn't exist\n        return {\n            agents: [],\n            completed: [],\n            pending: [],\n            stats: getDefaultStats(),\n            lastUpdated: new Date().toISOString()\n        };\n    }\n    const agents = [];\n    const completed = [];\n    const pending = [];\n    let lastUpdated = \"\";\n    // Parse last updated\n    const lastUpdatedMatch = content.match(/\\*\\*Last Updated:\\*\\* (.+)/);\n    if (lastUpdatedMatch) {\n        lastUpdated = lastUpdatedMatch[1];\n    }\n    // Parse currently running agents\n    const runningSection = content.match(/## Currently Running\\s*\\n\\n([\\s\\S]*?)(?=\\n## |\\n$)/);\n    if (runningSection) {\n        const lines = runningSection[1].trim().split(\"\\n\");\n        // Skip header row and separator\n        for(let i = 2; i < lines.length; i++){\n            const line = lines[i].trim();\n            if (line.startsWith(\"|\")) {\n                const parts = line.split(\"|\").map((p)=>p.trim()).filter(Boolean);\n                if (parts.length >= 5) {\n                    // Clean markdown formatting from status (e.g., \"**running**\" -> \"running\")\n                    const rawStatus = parts[2].toLowerCase().replace(/\\*\\*/g, \"\").trim();\n                    // Map various status strings to valid enum values\n                    const statusMap = {\n                        \"running\": \"active\",\n                        \"active\": \"active\",\n                        \"complete\": \"completed\",\n                        \"completed\": \"completed\",\n                        \"done\": \"completed\",\n                        \"pending\": \"pending\",\n                        \"error\": \"error\"\n                    };\n                    agents.push({\n                        id: parts[4].split(\":\").pop() || parts[0].toLowerCase().replace(/\\s+/g, \"-\"),\n                        name: parts[0],\n                        task: parts[1],\n                        status: statusMap[rawStatus] || \"active\",\n                        started: parts[3],\n                        sessionKey: parts[4]\n                    });\n                }\n            }\n        }\n    }\n    // Parse completed tasks\n    const completedSection = content.match(/## Completed Today\\s*\\n\\n([\\s\\S]*?)(?=\\n## |\\n$)/);\n    if (completedSection) {\n        const lines = completedSection[1].trim().split(\"\\n\");\n        for (const line of lines){\n            const match = line.match(/- ✅? \\*\\*(.+?)\\*\\* — (.+)/);\n            if (match) {\n                completed.push({\n                    name: match[1],\n                    description: match[2],\n                    timestamp: new Date().toISOString()\n                });\n            }\n        }\n    }\n    // Parse pending tasks\n    const pendingSection = content.match(/## Task Queue \\(Pending\\)\\s*\\n\\n([\\s\\S]*?)(?=\\n## |\\n$)/);\n    if (pendingSection) {\n        const lines = pendingSection[1].trim().split(\"\\n\");\n        for (const line of lines){\n            const match = line.match(/- \\[ \\] \\*\\*(.+?)\\*\\* — (.+)/);\n            if (match) {\n                const waitingMatch = match[2].match(/(.+?) \\(waiting for (.+)\\)/);\n                pending.push({\n                    name: match[1],\n                    description: waitingMatch ? waitingMatch[1] : match[2],\n                    waitingFor: waitingMatch ? waitingMatch[2] : undefined\n                });\n            }\n        }\n    }\n    // Parse system health\n    const stats = parseSystemStats(content, agents.length, completed.length);\n    return {\n        agents,\n        completed,\n        pending,\n        stats,\n        lastUpdated\n    };\n}\nfunction parseSystemStats(content, activeCount, completedCount) {\n    const apiMatch = content.match(/API Status: (\\w+)/);\n    const cronMatch = content.match(/Cron Job: (.+)/);\n    const skillsMatch = content.match(/Skills Available: (\\d+)/);\n    const maxParallelMatch = content.match(/Max Parallel: (\\d+)/);\n    return {\n        activeCount,\n        completedCount,\n        totalTokens: 0,\n        maxParallel: parseInt(maxParallelMatch?.[1] || \"5\"),\n        apiStatus: apiMatch?.[1] || \"Unknown\",\n        cronStatus: cronMatch?.[1] || \"Unknown\",\n        skillsAvailable: parseInt(skillsMatch?.[1] || \"0\")\n    };\n}\nfunction getDefaultStats() {\n    return {\n        activeCount: 0,\n        completedCount: 0,\n        totalTokens: 0,\n        maxParallel: 5,\n        apiStatus: \"Online\",\n        cronStatus: \"Every 30 minutes\",\n        skillsAvailable: 60\n    };\n}\n// Get sessions from openclaw CLI\nasync function getSessions() {\n    try {\n        const { stdout } = await execAsync(\"openclaw sessions list\", {\n            cwd: path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"..\", \"..\"),\n            timeout: 10000\n        });\n        return parseSessionsOutput(stdout);\n    } catch (e) {\n        console.error(\"Failed to get sessions:\", e);\n        return [];\n    }\n}\nfunction parseSessionsOutput(output) {\n    const agents = [];\n    const lines = output.split(\"\\n\");\n    // Skip header lines (first 3 lines: store path, header, separator)\n    for(let i = 3; i < lines.length; i++){\n        const line = lines[i].trim();\n        if (!line || line.startsWith(\"Kind\")) continue;\n        // Parse columns: Kind, Key, Age, Model, Tokens, Flags\n        // Using regex to handle variable spacing\n        const match = line.match(/(\\w+)\\s+(\\S+)\\s+(\\S+(?:\\s+ago)?)\\s+(\\S+)\\s+(.+?)(?:\\s+(id:\\S+))?$/);\n        if (match) {\n            const [, kind, key, age, model, tokens, flags] = match;\n            const id = key.includes(\":\") ? key.split(\":\").pop() || key : key;\n            agents.push({\n                id,\n                name: id.slice(0, 8),\n                task: \"Unknown task\",\n                status: \"active\",\n                started: age,\n                sessionKey: key,\n                model,\n                tokens,\n                age,\n                flags: flags || \"\"\n            });\n        }\n    }\n    return agents;\n}\n// Merge active status data with session data\nasync function getAllAgentData() {\n    const [statusData, sessionsData] = await Promise.all([\n        getActiveStatus(),\n        getSessions().catch(()=>[])\n    ]);\n    // Merge session data with status data\n    const mergedAgents = statusData.agents.map((agent)=>{\n        const sessionMatch = sessionsData.find((s)=>s.sessionKey.includes(agent.sessionKey) || agent.sessionKey.includes(s.sessionKey));\n        return {\n            ...agent,\n            model: sessionMatch?.model || agent.model || null,\n            tokens: sessionMatch?.tokens || agent.tokens || null,\n            age: sessionMatch?.age || agent.age || null\n        };\n    });\n    // Add any sessions not in the status file\n    sessionsData.forEach((session)=>{\n        const exists = mergedAgents.some((a)=>a.sessionKey.includes(session.sessionKey) || session.sessionKey.includes(a.sessionKey));\n        if (!exists) {\n            mergedAgents.push({\n                ...session,\n                task: \"Background task\",\n                model: session.model || null,\n                tokens: session.tokens || null,\n                age: session.age || null\n            });\n        }\n    });\n    // Calculate total tokens\n    const totalTokens = sessionsData.reduce((sum, s)=>{\n        const match = s.tokens?.match(/(\\d+)k/);\n        return sum + (match ? parseInt(match[1]) * 1000 : 0);\n    }, 0);\n    return {\n        agents: mergedAgents,\n        completed: statusData.completed,\n        pending: statusData.pending,\n        stats: {\n            ...statusData.stats,\n            totalTokens\n        },\n        lastUpdated: statusData.lastUpdated\n    };\n}\n// Get agent logs (placeholder - would read from log files)\nasync function getAgentLogs(agentId) {\n    const logPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"..\", \"logs\", `${agentId}.log`);\n    try {\n        const content = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(logPath, \"utf-8\");\n        return content.split(\"\\n\").slice(-100); // Last 100 lines\n    } catch (e) {\n        return [\n            `[${new Date().toISOString()}] Agent ${agentId} initialized`,\n            `[${new Date().toISOString()}] Starting task execution...`,\n            `[${new Date().toISOString()}] Connected to orchestrator`\n        ];\n    }\n}\n// Spawn a new agent (placeholder - would integrate with spawn system)\nasync function spawnAgent(name, task, priority) {\n    // This would integrate with the actual spawn system\n    // For now, just update the spawn queue\n    const queuePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"..\", \"state\", \"spawn-queue.json\");\n    try {\n        let queue = [];\n        try {\n            const content = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(queuePath, \"utf-8\");\n            queue = JSON.parse(content);\n        } catch (e) {\n        // File doesn't exist, start with empty queue\n        }\n        const newTask = {\n            id: `task-${Date.now()}`,\n            name,\n            task,\n            priority,\n            status: \"queued\",\n            createdAt: new Date().toISOString()\n        };\n        queue.push(newTask);\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(queuePath, JSON.stringify(queue, null, 2));\n        return {\n            success: true,\n            agentId: newTask.id\n        };\n    } catch (e) {\n        return {\n            success: false,\n            error: String(e)\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxFQUFFLElBQUluRixPQUFPQyxXQUFXLEdBQUcsNEJBQTRCLENBQUM7WUFDMUQsQ0FBQyxDQUFDLEVBQUUsSUFBSUQsT0FBT0MsV0FBVyxHQUFHLDJCQUEyQixDQUFDO1NBQzFEO0lBQ0g7QUFDRjtBQUVBLHNFQUFzRTtBQUMvRCxlQUFlb0YsV0FBVzdELElBQVksRUFBRUMsSUFBWSxFQUFFNkQsUUFBZ0I7SUFDM0Usb0RBQW9EO0lBQ3BELHVDQUF1QztJQUN2QyxNQUFNQyxZQUFZekcsZ0RBQVMsQ0FBQ08sUUFBUUMsR0FBRyxJQUFJLE1BQU0sU0FBUztJQUUxRCxJQUFJO1FBQ0YsSUFBSWtHLFFBQWUsRUFBRTtRQUNyQixJQUFJO1lBQ0YsTUFBTWpHLFVBQVVWLHNEQUFlLENBQUMwRyxXQUFXO1lBQzNDQyxRQUFRQyxLQUFLQyxLQUFLLENBQUNuRztRQUNyQixFQUFFLE9BQU9FLEdBQUc7UUFDViw2Q0FBNkM7UUFDL0M7UUFFQSxNQUFNa0csVUFBVTtZQUNkckUsSUFBSSxDQUFDLEtBQUssRUFBRXRCLEtBQUs0RixHQUFHLEdBQUcsQ0FBQztZQUN4QnBFO1lBQ0FDO1lBQ0E2RDtZQUNBNUQsUUFBUTtZQUNSbUUsV0FBVyxJQUFJN0YsT0FBT0MsV0FBVztRQUNuQztRQUVBdUYsTUFBTW5FLElBQUksQ0FBQ3NFO1FBQ1g5Ryx1REFBZ0IsQ0FBQzBHLFdBQVdFLEtBQUtNLFNBQVMsQ0FBQ1AsT0FBTyxNQUFNO1FBRXhELE9BQU87WUFBRVEsU0FBUztZQUFNYixTQUFTUSxRQUFRckUsRUFBRTtRQUFDO0lBQzlDLEVBQUUsT0FBTzdCLEdBQUc7UUFDVixPQUFPO1lBQUV1RyxTQUFTO1lBQU8xQyxPQUFPMkMsT0FBT3hHO1FBQUc7SUFDNUM7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2FnZW50LWRhc2hib2FyZC8uL2xpYi9kYXRhLnRzPzE2ZjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgZXhlYyB9IGZyb20gJ2NoaWxkX3Byb2Nlc3MnO1xuaW1wb3J0IHsgcHJvbWlzaWZ5IH0gZnJvbSAndXRpbCc7XG5cbmNvbnN0IGV4ZWNBc3luYyA9IHByb21pc2lmeShleGVjKTtcblxuZXhwb3J0IGludGVyZmFjZSBBZ2VudCB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgdGFzazogc3RyaW5nO1xuICBzdGF0dXM6ICdhY3RpdmUnIHwgJ3BlbmRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZXJyb3InO1xuICBzdGFydGVkOiBzdHJpbmc7XG4gIHNlc3Npb25LZXk6IHN0cmluZztcbiAgbW9kZWw/OiBzdHJpbmcgfCBudWxsO1xuICB0b2tlbnM/OiBzdHJpbmcgfCBudWxsO1xuICBhZ2U/OiBzdHJpbmcgfCBudWxsO1xuICBmbGFncz86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTeXN0ZW1TdGF0cyB7XG4gIGFjdGl2ZUNvdW50OiBudW1iZXI7XG4gIGNvbXBsZXRlZENvdW50OiBudW1iZXI7XG4gIHRvdGFsVG9rZW5zOiBudW1iZXI7XG4gIG1heFBhcmFsbGVsOiBudW1iZXI7XG4gIGFwaVN0YXR1czogc3RyaW5nO1xuICBjcm9uU3RhdHVzOiBzdHJpbmc7XG4gIHNraWxsc0F2YWlsYWJsZTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXRlZFRhc2sge1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHRpbWVzdGFtcD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQZW5kaW5nVGFzayB7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgd2FpdGluZ0Zvcj86IHN0cmluZztcbn1cblxuLy8gUGFyc2UgQUNUSVZFX1NUQVRVUy5tZFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFjdGl2ZVN0YXR1cygpOiBQcm9taXNlPHtcbiAgYWdlbnRzOiBBZ2VudFtdO1xuICBjb21wbGV0ZWQ6IENvbXBsZXRlZFRhc2tbXTtcbiAgcGVuZGluZzogUGVuZGluZ1Rhc2tbXTtcbiAgc3RhdHM6IFN5c3RlbVN0YXRzO1xuICBsYXN0VXBkYXRlZDogc3RyaW5nO1xufT4ge1xuICBjb25zdCBzdGF0dXNQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICcuLicsICdzdGF0ZScsICdBQ1RJVkVfU1RBVFVTLm1kJyk7XG4gIFxuICBsZXQgY29udGVudCA9ICcnO1xuICB0cnkge1xuICAgIGNvbnRlbnQgPSBmcy5yZWFkRmlsZVN5bmMoc3RhdHVzUGF0aCwgJ3V0Zi04Jyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBSZXR1cm4gZGVmYXVsdCBkYXRhIGlmIGZpbGUgZG9lc24ndCBleGlzdFxuICAgIHJldHVybiB7XG4gICAgICBhZ2VudHM6IFtdLFxuICAgICAgY29tcGxldGVkOiBbXSxcbiAgICAgIHBlbmRpbmc6IFtdLFxuICAgICAgc3RhdHM6IGdldERlZmF1bHRTdGF0cygpLFxuICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgYWdlbnRzOiBBZ2VudFtdID0gW107XG4gIGNvbnN0IGNvbXBsZXRlZDogQ29tcGxldGVkVGFza1tdID0gW107XG4gIGNvbnN0IHBlbmRpbmc6IFBlbmRpbmdUYXNrW10gPSBbXTtcbiAgbGV0IGxhc3RVcGRhdGVkID0gJyc7XG5cbiAgLy8gUGFyc2UgbGFzdCB1cGRhdGVkXG4gIGNvbnN0IGxhc3RVcGRhdGVkTWF0Y2ggPSBjb250ZW50Lm1hdGNoKC9cXCpcXCpMYXN0IFVwZGF0ZWQ6XFwqXFwqICguKykvKTtcbiAgaWYgKGxhc3RVcGRhdGVkTWF0Y2gpIHtcbiAgICBsYXN0VXBkYXRlZCA9IGxhc3RVcGRhdGVkTWF0Y2hbMV07XG4gIH1cblxuICAvLyBQYXJzZSBjdXJyZW50bHkgcnVubmluZyBhZ2VudHNcbiAgY29uc3QgcnVubmluZ1NlY3Rpb24gPSBjb250ZW50Lm1hdGNoKC8jIyBDdXJyZW50bHkgUnVubmluZ1xccypcXG5cXG4oW1xcc1xcU10qPykoPz1cXG4jIyB8XFxuJCkvKTtcbiAgaWYgKHJ1bm5pbmdTZWN0aW9uKSB7XG4gICAgY29uc3QgbGluZXMgPSBydW5uaW5nU2VjdGlvblsxXS50cmltKCkuc3BsaXQoJ1xcbicpO1xuICAgIC8vIFNraXAgaGVhZGVyIHJvdyBhbmQgc2VwYXJhdG9yXG4gICAgZm9yIChsZXQgaSA9IDI7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgbGluZSA9IGxpbmVzW2ldLnRyaW0oKTtcbiAgICAgIGlmIChsaW5lLnN0YXJ0c1dpdGgoJ3wnKSkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IGxpbmUuc3BsaXQoJ3wnKS5tYXAocCA9PiBwLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDUpIHtcbiAgICAgICAgICAvLyBDbGVhbiBtYXJrZG93biBmb3JtYXR0aW5nIGZyb20gc3RhdHVzIChlLmcuLCBcIioqcnVubmluZyoqXCIgLT4gXCJydW5uaW5nXCIpXG4gICAgICAgICAgY29uc3QgcmF3U3RhdHVzID0gcGFydHNbMl0udG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXCpcXCovZywgJycpLnRyaW0oKTtcbiAgICAgICAgICAvLyBNYXAgdmFyaW91cyBzdGF0dXMgc3RyaW5ncyB0byB2YWxpZCBlbnVtIHZhbHVlc1xuICAgICAgICAgIGNvbnN0IHN0YXR1c01hcDogUmVjb3JkPHN0cmluZywgQWdlbnRbJ3N0YXR1cyddPiA9IHtcbiAgICAgICAgICAgICdydW5uaW5nJzogJ2FjdGl2ZScsXG4gICAgICAgICAgICAnYWN0aXZlJzogJ2FjdGl2ZScsXG4gICAgICAgICAgICAnY29tcGxldGUnOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICdjb21wbGV0ZWQnOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICdkb25lJzogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAncGVuZGluZyc6ICdwZW5kaW5nJyxcbiAgICAgICAgICAgICdlcnJvcic6ICdlcnJvcicsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICBhZ2VudHMucHVzaCh7XG4gICAgICAgICAgICBpZDogcGFydHNbNF0uc3BsaXQoJzonKS5wb3AoKSB8fCBwYXJ0c1swXS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJy0nKSxcbiAgICAgICAgICAgIG5hbWU6IHBhcnRzWzBdLFxuICAgICAgICAgICAgdGFzazogcGFydHNbMV0sXG4gICAgICAgICAgICBzdGF0dXM6IHN0YXR1c01hcFtyYXdTdGF0dXNdIHx8ICdhY3RpdmUnLFxuICAgICAgICAgICAgc3RhcnRlZDogcGFydHNbM10sXG4gICAgICAgICAgICBzZXNzaW9uS2V5OiBwYXJ0c1s0XSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFBhcnNlIGNvbXBsZXRlZCB0YXNrc1xuICBjb25zdCBjb21wbGV0ZWRTZWN0aW9uID0gY29udGVudC5tYXRjaCgvIyMgQ29tcGxldGVkIFRvZGF5XFxzKlxcblxcbihbXFxzXFxTXSo/KSg/PVxcbiMjIHxcXG4kKS8pO1xuICBpZiAoY29tcGxldGVkU2VjdGlvbikge1xuICAgIGNvbnN0IGxpbmVzID0gY29tcGxldGVkU2VjdGlvblsxXS50cmltKCkuc3BsaXQoJ1xcbicpO1xuICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgY29uc3QgbWF0Y2ggPSBsaW5lLm1hdGNoKC8tIOKchT8gXFwqXFwqKC4rPylcXCpcXCog4oCUICguKykvKTtcbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICBjb21wbGV0ZWQucHVzaCh7XG4gICAgICAgICAgbmFtZTogbWF0Y2hbMV0sXG4gICAgICAgICAgZGVzY3JpcHRpb246IG1hdGNoWzJdLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBQYXJzZSBwZW5kaW5nIHRhc2tzXG4gIGNvbnN0IHBlbmRpbmdTZWN0aW9uID0gY29udGVudC5tYXRjaCgvIyMgVGFzayBRdWV1ZSBcXChQZW5kaW5nXFwpXFxzKlxcblxcbihbXFxzXFxTXSo/KSg/PVxcbiMjIHxcXG4kKS8pO1xuICBpZiAocGVuZGluZ1NlY3Rpb24pIHtcbiAgICBjb25zdCBsaW5lcyA9IHBlbmRpbmdTZWN0aW9uWzFdLnRyaW0oKS5zcGxpdCgnXFxuJyk7XG4gICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICBjb25zdCBtYXRjaCA9IGxpbmUubWF0Y2goLy0gXFxbIFxcXSBcXCpcXCooLis/KVxcKlxcKiDigJQgKC4rKS8pO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGNvbnN0IHdhaXRpbmdNYXRjaCA9IG1hdGNoWzJdLm1hdGNoKC8oLis/KSBcXCh3YWl0aW5nIGZvciAoLispXFwpLyk7XG4gICAgICAgIHBlbmRpbmcucHVzaCh7XG4gICAgICAgICAgbmFtZTogbWF0Y2hbMV0sXG4gICAgICAgICAgZGVzY3JpcHRpb246IHdhaXRpbmdNYXRjaCA/IHdhaXRpbmdNYXRjaFsxXSA6IG1hdGNoWzJdLFxuICAgICAgICAgIHdhaXRpbmdGb3I6IHdhaXRpbmdNYXRjaCA/IHdhaXRpbmdNYXRjaFsyXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gUGFyc2Ugc3lzdGVtIGhlYWx0aFxuICBjb25zdCBzdGF0cyA9IHBhcnNlU3lzdGVtU3RhdHMoY29udGVudCwgYWdlbnRzLmxlbmd0aCwgY29tcGxldGVkLmxlbmd0aCk7XG5cbiAgcmV0dXJuIHsgYWdlbnRzLCBjb21wbGV0ZWQsIHBlbmRpbmcsIHN0YXRzLCBsYXN0VXBkYXRlZCB9O1xufVxuXG5mdW5jdGlvbiBwYXJzZVN5c3RlbVN0YXRzKGNvbnRlbnQ6IHN0cmluZywgYWN0aXZlQ291bnQ6IG51bWJlciwgY29tcGxldGVkQ291bnQ6IG51bWJlcik6IFN5c3RlbVN0YXRzIHtcbiAgY29uc3QgYXBpTWF0Y2ggPSBjb250ZW50Lm1hdGNoKC9BUEkgU3RhdHVzOiAoXFx3KykvKTtcbiAgY29uc3QgY3Jvbk1hdGNoID0gY29udGVudC5tYXRjaCgvQ3JvbiBKb2I6ICguKykvKTtcbiAgY29uc3Qgc2tpbGxzTWF0Y2ggPSBjb250ZW50Lm1hdGNoKC9Ta2lsbHMgQXZhaWxhYmxlOiAoXFxkKykvKTtcbiAgY29uc3QgbWF4UGFyYWxsZWxNYXRjaCA9IGNvbnRlbnQubWF0Y2goL01heCBQYXJhbGxlbDogKFxcZCspLyk7XG5cbiAgcmV0dXJuIHtcbiAgICBhY3RpdmVDb3VudCxcbiAgICBjb21wbGV0ZWRDb3VudCxcbiAgICB0b3RhbFRva2VuczogMCwgLy8gV2lsbCBiZSBmaWxsZWQgZnJvbSBzZXNzaW9ucyBsaXN0XG4gICAgbWF4UGFyYWxsZWw6IHBhcnNlSW50KG1heFBhcmFsbGVsTWF0Y2g/LlsxXSB8fCAnNScpLFxuICAgIGFwaVN0YXR1czogYXBpTWF0Y2g/LlsxXSB8fCAnVW5rbm93bicsXG4gICAgY3JvblN0YXR1czogY3Jvbk1hdGNoPy5bMV0gfHwgJ1Vua25vd24nLFxuICAgIHNraWxsc0F2YWlsYWJsZTogcGFyc2VJbnQoc2tpbGxzTWF0Y2g/LlsxXSB8fCAnMCcpLFxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0U3RhdHMoKTogU3lzdGVtU3RhdHMge1xuICByZXR1cm4ge1xuICAgIGFjdGl2ZUNvdW50OiAwLFxuICAgIGNvbXBsZXRlZENvdW50OiAwLFxuICAgIHRvdGFsVG9rZW5zOiAwLFxuICAgIG1heFBhcmFsbGVsOiA1LFxuICAgIGFwaVN0YXR1czogJ09ubGluZScsXG4gICAgY3JvblN0YXR1czogJ0V2ZXJ5IDMwIG1pbnV0ZXMnLFxuICAgIHNraWxsc0F2YWlsYWJsZTogNjAsXG4gIH07XG59XG5cbi8vIEdldCBzZXNzaW9ucyBmcm9tIG9wZW5jbGF3IENMSVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlc3Npb25zKCk6IFByb21pc2U8QWdlbnRbXT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgc3Rkb3V0IH0gPSBhd2FpdCBleGVjQXN5bmMoJ29wZW5jbGF3IHNlc3Npb25zIGxpc3QnLCB7XG4gICAgICBjd2Q6IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnLi4nLCAnLi4nKSxcbiAgICAgIHRpbWVvdXQ6IDEwMDAwLFxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiBwYXJzZVNlc3Npb25zT3V0cHV0KHN0ZG91dCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IHNlc3Npb25zOicsIGUpO1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZVNlc3Npb25zT3V0cHV0KG91dHB1dDogc3RyaW5nKTogQWdlbnRbXSB7XG4gIGNvbnN0IGFnZW50czogQWdlbnRbXSA9IFtdO1xuICBjb25zdCBsaW5lcyA9IG91dHB1dC5zcGxpdCgnXFxuJyk7XG4gIFxuICAvLyBTa2lwIGhlYWRlciBsaW5lcyAoZmlyc3QgMyBsaW5lczogc3RvcmUgcGF0aCwgaGVhZGVyLCBzZXBhcmF0b3IpXG4gIGZvciAobGV0IGkgPSAzOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBsaW5lID0gbGluZXNbaV0udHJpbSgpO1xuICAgIGlmICghbGluZSB8fCBsaW5lLnN0YXJ0c1dpdGgoJ0tpbmQnKSkgY29udGludWU7XG4gICAgXG4gICAgLy8gUGFyc2UgY29sdW1uczogS2luZCwgS2V5LCBBZ2UsIE1vZGVsLCBUb2tlbnMsIEZsYWdzXG4gICAgLy8gVXNpbmcgcmVnZXggdG8gaGFuZGxlIHZhcmlhYmxlIHNwYWNpbmdcbiAgICBjb25zdCBtYXRjaCA9IGxpbmUubWF0Y2goLyhcXHcrKVxccysoXFxTKylcXHMrKFxcUysoPzpcXHMrYWdvKT8pXFxzKyhcXFMrKVxccysoLis/KSg/OlxccysoaWQ6XFxTKykpPyQvKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIGNvbnN0IFssIGtpbmQsIGtleSwgYWdlLCBtb2RlbCwgdG9rZW5zLCBmbGFnc10gPSBtYXRjaDtcbiAgICAgIGNvbnN0IGlkID0ga2V5LmluY2x1ZGVzKCc6JykgPyBrZXkuc3BsaXQoJzonKS5wb3AoKSB8fCBrZXkgOiBrZXk7XG4gICAgICBcbiAgICAgIGFnZW50cy5wdXNoKHtcbiAgICAgICAgaWQsXG4gICAgICAgIG5hbWU6IGlkLnNsaWNlKDAsIDgpLFxuICAgICAgICB0YXNrOiAnVW5rbm93biB0YXNrJyxcbiAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgICAgICAgc3RhcnRlZDogYWdlLFxuICAgICAgICBzZXNzaW9uS2V5OiBrZXksXG4gICAgICAgIG1vZGVsLFxuICAgICAgICB0b2tlbnMsXG4gICAgICAgIGFnZSxcbiAgICAgICAgZmxhZ3M6IGZsYWdzIHx8ICcnLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gYWdlbnRzO1xufVxuXG4vLyBNZXJnZSBhY3RpdmUgc3RhdHVzIGRhdGEgd2l0aCBzZXNzaW9uIGRhdGFcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxBZ2VudERhdGEoKTogUHJvbWlzZTx7XG4gIGFnZW50czogQWdlbnRbXTtcbiAgY29tcGxldGVkOiBDb21wbGV0ZWRUYXNrW107XG4gIHBlbmRpbmc6IFBlbmRpbmdUYXNrW107XG4gIHN0YXRzOiBTeXN0ZW1TdGF0cztcbiAgbGFzdFVwZGF0ZWQ6IHN0cmluZztcbn0+IHtcbiAgY29uc3QgW3N0YXR1c0RhdGEsIHNlc3Npb25zRGF0YV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgZ2V0QWN0aXZlU3RhdHVzKCksXG4gICAgZ2V0U2Vzc2lvbnMoKS5jYXRjaCgoKSA9PiBbXSBhcyBBZ2VudFtdKSxcbiAgXSk7XG5cbiAgLy8gTWVyZ2Ugc2Vzc2lvbiBkYXRhIHdpdGggc3RhdHVzIGRhdGFcbiAgY29uc3QgbWVyZ2VkQWdlbnRzID0gc3RhdHVzRGF0YS5hZ2VudHMubWFwKGFnZW50ID0+IHtcbiAgICBjb25zdCBzZXNzaW9uTWF0Y2ggPSBzZXNzaW9uc0RhdGEuZmluZChzID0+IFxuICAgICAgcy5zZXNzaW9uS2V5LmluY2x1ZGVzKGFnZW50LnNlc3Npb25LZXkpIHx8IFxuICAgICAgYWdlbnQuc2Vzc2lvbktleS5pbmNsdWRlcyhzLnNlc3Npb25LZXkpXG4gICAgKTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgLi4uYWdlbnQsXG4gICAgICBtb2RlbDogc2Vzc2lvbk1hdGNoPy5tb2RlbCB8fCBhZ2VudC5tb2RlbCB8fCBudWxsLFxuICAgICAgdG9rZW5zOiBzZXNzaW9uTWF0Y2g/LnRva2VucyB8fCBhZ2VudC50b2tlbnMgfHwgbnVsbCxcbiAgICAgIGFnZTogc2Vzc2lvbk1hdGNoPy5hZ2UgfHwgYWdlbnQuYWdlIHx8IG51bGwsXG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gQWRkIGFueSBzZXNzaW9ucyBub3QgaW4gdGhlIHN0YXR1cyBmaWxlXG4gIHNlc3Npb25zRGF0YS5mb3JFYWNoKHNlc3Npb24gPT4ge1xuICAgIGNvbnN0IGV4aXN0cyA9IG1lcmdlZEFnZW50cy5zb21lKGEgPT4gXG4gICAgICBhLnNlc3Npb25LZXkuaW5jbHVkZXMoc2Vzc2lvbi5zZXNzaW9uS2V5KSB8fCBcbiAgICAgIHNlc3Npb24uc2Vzc2lvbktleS5pbmNsdWRlcyhhLnNlc3Npb25LZXkpXG4gICAgKTtcbiAgICBpZiAoIWV4aXN0cykge1xuICAgICAgbWVyZ2VkQWdlbnRzLnB1c2goe1xuICAgICAgICAuLi5zZXNzaW9uLFxuICAgICAgICB0YXNrOiAnQmFja2dyb3VuZCB0YXNrJyxcbiAgICAgICAgbW9kZWw6IHNlc3Npb24ubW9kZWwgfHwgbnVsbCxcbiAgICAgICAgdG9rZW5zOiBzZXNzaW9uLnRva2VucyB8fCBudWxsLFxuICAgICAgICBhZ2U6IHNlc3Npb24uYWdlIHx8IG51bGwsXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIENhbGN1bGF0ZSB0b3RhbCB0b2tlbnNcbiAgY29uc3QgdG90YWxUb2tlbnMgPSBzZXNzaW9uc0RhdGEucmVkdWNlKChzdW0sIHMpID0+IHtcbiAgICBjb25zdCBtYXRjaCA9IHMudG9rZW5zPy5tYXRjaCgvKFxcZCspay8pO1xuICAgIHJldHVybiBzdW0gKyAobWF0Y2ggPyBwYXJzZUludChtYXRjaFsxXSkgKiAxMDAwIDogMCk7XG4gIH0sIDApO1xuXG4gIHJldHVybiB7XG4gICAgYWdlbnRzOiBtZXJnZWRBZ2VudHMsXG4gICAgY29tcGxldGVkOiBzdGF0dXNEYXRhLmNvbXBsZXRlZCxcbiAgICBwZW5kaW5nOiBzdGF0dXNEYXRhLnBlbmRpbmcsXG4gICAgc3RhdHM6IHtcbiAgICAgIC4uLnN0YXR1c0RhdGEuc3RhdHMsXG4gICAgICB0b3RhbFRva2VucyxcbiAgICB9LFxuICAgIGxhc3RVcGRhdGVkOiBzdGF0dXNEYXRhLmxhc3RVcGRhdGVkLFxuICB9O1xufVxuXG4vLyBHZXQgYWdlbnQgbG9ncyAocGxhY2Vob2xkZXIgLSB3b3VsZCByZWFkIGZyb20gbG9nIGZpbGVzKVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFnZW50TG9ncyhhZ2VudElkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gIGNvbnN0IGxvZ1BhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJy4uJywgJ2xvZ3MnLCBgJHthZ2VudElkfS5sb2dgKTtcbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgY29udGVudCA9IGZzLnJlYWRGaWxlU3luYyhsb2dQYXRoLCAndXRmLTgnKTtcbiAgICByZXR1cm4gY29udGVudC5zcGxpdCgnXFxuJykuc2xpY2UoLTEwMCk7IC8vIExhc3QgMTAwIGxpbmVzXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gW1xuICAgICAgYFske25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX1dIEFnZW50ICR7YWdlbnRJZH0gaW5pdGlhbGl6ZWRgLFxuICAgICAgYFske25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX1dIFN0YXJ0aW5nIHRhc2sgZXhlY3V0aW9uLi4uYCxcbiAgICAgIGBbJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9XSBDb25uZWN0ZWQgdG8gb3JjaGVzdHJhdG9yYCxcbiAgICBdO1xuICB9XG59XG5cbi8vIFNwYXduIGEgbmV3IGFnZW50IChwbGFjZWhvbGRlciAtIHdvdWxkIGludGVncmF0ZSB3aXRoIHNwYXduIHN5c3RlbSlcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzcGF3bkFnZW50KG5hbWU6IHN0cmluZywgdGFzazogc3RyaW5nLCBwcmlvcml0eTogc3RyaW5nKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGFnZW50SWQ/OiBzdHJpbmc7IGVycm9yPzogc3RyaW5nIH0+IHtcbiAgLy8gVGhpcyB3b3VsZCBpbnRlZ3JhdGUgd2l0aCB0aGUgYWN0dWFsIHNwYXduIHN5c3RlbVxuICAvLyBGb3Igbm93LCBqdXN0IHVwZGF0ZSB0aGUgc3Bhd24gcXVldWVcbiAgY29uc3QgcXVldWVQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICcuLicsICdzdGF0ZScsICdzcGF3bi1xdWV1ZS5qc29uJyk7XG4gIFxuICB0cnkge1xuICAgIGxldCBxdWV1ZTogYW55W10gPSBbXTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29udGVudCA9IGZzLnJlYWRGaWxlU3luYyhxdWV1ZVBhdGgsICd1dGYtOCcpO1xuICAgICAgcXVldWUgPSBKU09OLnBhcnNlKGNvbnRlbnQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIEZpbGUgZG9lc24ndCBleGlzdCwgc3RhcnQgd2l0aCBlbXB0eSBxdWV1ZVxuICAgIH1cbiAgICBcbiAgICBjb25zdCBuZXdUYXNrID0ge1xuICAgICAgaWQ6IGB0YXNrLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgbmFtZSxcbiAgICAgIHRhc2ssXG4gICAgICBwcmlvcml0eSxcbiAgICAgIHN0YXR1czogJ3F1ZXVlZCcsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB9O1xuICAgIFxuICAgIHF1ZXVlLnB1c2gobmV3VGFzayk7XG4gICAgZnMud3JpdGVGaWxlU3luYyhxdWV1ZVBhdGgsIEpTT04uc3RyaW5naWZ5KHF1ZXVlLCBudWxsLCAyKSk7XG4gICAgXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgYWdlbnRJZDogbmV3VGFzay5pZCB9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBTdHJpbmcoZSkgfTtcbiAgfVxufSJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJleGVjIiwicHJvbWlzaWZ5IiwiZXhlY0FzeW5jIiwiZ2V0QWN0aXZlU3RhdHVzIiwic3RhdHVzUGF0aCIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiY29udGVudCIsInJlYWRGaWxlU3luYyIsImUiLCJhZ2VudHMiLCJjb21wbGV0ZWQiLCJwZW5kaW5nIiwic3RhdHMiLCJnZXREZWZhdWx0U3RhdHMiLCJsYXN0VXBkYXRlZCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImxhc3RVcGRhdGVkTWF0Y2giLCJtYXRjaCIsInJ1bm5pbmdTZWN0aW9uIiwibGluZXMiLCJ0cmltIiwic3BsaXQiLCJpIiwibGVuZ3RoIiwibGluZSIsInN0YXJ0c1dpdGgiLCJwYXJ0cyIsIm1hcCIsInAiLCJmaWx0ZXIiLCJCb29sZWFuIiwicmF3U3RhdHVzIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwic3RhdHVzTWFwIiwicHVzaCIsImlkIiwicG9wIiwibmFtZSIsInRhc2siLCJzdGF0dXMiLCJzdGFydGVkIiwic2Vzc2lvbktleSIsImNvbXBsZXRlZFNlY3Rpb24iLCJkZXNjcmlwdGlvbiIsInRpbWVzdGFtcCIsInBlbmRpbmdTZWN0aW9uIiwid2FpdGluZ01hdGNoIiwid2FpdGluZ0ZvciIsInVuZGVmaW5lZCIsInBhcnNlU3lzdGVtU3RhdHMiLCJhY3RpdmVDb3VudCIsImNvbXBsZXRlZENvdW50IiwiYXBpTWF0Y2giLCJjcm9uTWF0Y2giLCJza2lsbHNNYXRjaCIsIm1heFBhcmFsbGVsTWF0Y2giLCJ0b3RhbFRva2VucyIsIm1heFBhcmFsbGVsIiwicGFyc2VJbnQiLCJhcGlTdGF0dXMiLCJjcm9uU3RhdHVzIiwic2tpbGxzQXZhaWxhYmxlIiwiZ2V0U2Vzc2lvbnMiLCJzdGRvdXQiLCJ0aW1lb3V0IiwicGFyc2VTZXNzaW9uc091dHB1dCIsImNvbnNvbGUiLCJlcnJvciIsIm91dHB1dCIsImtpbmQiLCJrZXkiLCJhZ2UiLCJtb2RlbCIsInRva2VucyIsImZsYWdzIiwiaW5jbHVkZXMiLCJzbGljZSIsImdldEFsbEFnZW50RGF0YSIsInN0YXR1c0RhdGEiLCJzZXNzaW9uc0RhdGEiLCJQcm9taXNlIiwiYWxsIiwiY2F0Y2giLCJtZXJnZWRBZ2VudHMiLCJhZ2VudCIsInNlc3Npb25NYXRjaCIsImZpbmQiLCJzIiwiZm9yRWFjaCIsInNlc3Npb24iLCJleGlzdHMiLCJzb21lIiwiYSIsInJlZHVjZSIsInN1bSIsImdldEFnZW50TG9ncyIsImFnZW50SWQiLCJsb2dQYXRoIiwic3Bhd25BZ2VudCIsInByaW9yaXR5IiwicXVldWVQYXRoIiwicXVldWUiLCJKU09OIiwicGFyc2UiLCJuZXdUYXNrIiwibm93IiwiY3JlYXRlZEF0Iiwid3JpdGVGaWxlU3luYyIsInN0cmluZ2lmeSIsInN1Y2Nlc3MiLCJTdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/data.ts\n");

/***/ }),

/***/ "(api)/./pages/api/agents.ts":
/*!*****************************!*\
  !*** ./pages/api/agents.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/data */ \"(api)/./lib/data.ts\");\n\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    try {\n        const data = await (0,_lib_data__WEBPACK_IMPORTED_MODULE_0__.getAllAgentData)();\n        res.status(200).json(data);\n    } catch (error) {\n        console.error(\"API Error:\", error);\n        res.status(500).json({\n            error: \"Failed to fetch agent data\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYWdlbnRzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQ2lEO0FBRWxDLGVBQWVDLFFBQVFDLEdBQW1CLEVBQUVDLEdBQW9CO0lBQzdFLElBQUlELElBQUlFLE1BQU0sS0FBSyxPQUFPO1FBQ3hCLE9BQU9ELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFxQjtJQUM1RDtJQUVBLElBQUk7UUFDRixNQUFNQyxPQUFPLE1BQU1SLDBEQUFlQTtRQUNsQ0csSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQ0U7SUFDdkIsRUFBRSxPQUFPRCxPQUFPO1FBQ2RFLFFBQVFGLEtBQUssQ0FBQyxjQUFjQTtRQUM1QkosSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQTZCO0lBQzdEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZ2VudC1kYXNoYm9hcmQvLi9wYWdlcy9hcGkvYWdlbnRzLnRzPzFjMTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgeyBnZXRBbGxBZ2VudERhdGEgfSBmcm9tICcuLi8uLi9saWIvZGF0YSc7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdHRVQnKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0QWxsQWdlbnREYXRhKCk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oZGF0YSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQVBJIEVycm9yOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGFnZW50IGRhdGEnIH0pO1xuICB9XG59Il0sIm5hbWVzIjpbImdldEFsbEFnZW50RGF0YSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJkYXRhIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/agents.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fagents&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fagents.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();